!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["msb-web"]=t():e["msb-web"]=t()}(window,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=58)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(57);t.Container=o.Container;var n=r(56);t.Matrix=n.Matrix;var i=r(13);t.degrees2radians=i.degrees2radians,t.constrain=i.constrain,t.createConstrainer=i.createConstrainer,t.createDomainMapper=i.createDomainMapper,t.createHarmonicGenerator=i.createHarmonicGenerator,t.createIntegerRandomRangeGenerator=i.createIntegerRandomRangeGenerator,t.createIntegerSeededRandomRangeGenerator=i.createIntegerSeededRandomRangeGenerator,t.createRandomRangeGenerator=i.createRandomRangeGenerator,t.createSeededRandomRangeGenerator=i.createSeededRandomRangeGenerator,t.createSeededRandom=i.createSeededRandom,t.getDistance=i.getDistance,t.integerRandomRange=i.integerRandomRange,t.mapDomainRange=i.mapDomainRange,t.normalDistribution=i.normalDistribution,t.normalGaussianGenerator=i.normalGaussianGenerator,t.radians2degrees=i.radians2degrees,t.randomRange=i.randomRange;var a=r(55);t.Vector=a.Vector},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(52);t.DimEye=o.DimEye;var n=r(50);t.DimLight=n.DimLight;var i=r(49);t.DimOrthographicProjection=i.DimOrthographicProjection,t.DimPerspectiveProjection=i.DimPerspectiveProjection;var a=r(48);t.DimElement=a.DimElement;var s=r(12);t.DimFace=s.DimFace;var c=r(11);t.DimModel=c.DimModel;var l=r(47);t.DimScene=l.DimScene,t.DimSceneBase=l.DimSceneBase,t.DimSceneData=l.DimSceneData;var u=r(5);t.createProgram=u.createProgram,t.createProgramByShaderElements=u.createProgramByShaderElements,t.getWebGLRenderingContext=u.getWebGLRenderingContext},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){return function(){this.origin=new o.Vector,this.hasNormals=!1}}();t.ModelBuilder=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(15);t.ColorHSL=o.ColorHSL,t.ColorRGB=o.ColorRGB,t.colorFactoryRGB=o.colorFactoryRGB,t.createNamedPaletteGeneratorRGB=o.createNamedPaletteGeneratorRGB,t.createPaletteGenerator=o.createPaletteGenerator,t.createPaletteGeneratorBright=o.createPaletteGeneratorBright,t.createPaletteGeneratorCombo=o.createPaletteGeneratorCombo,t.createPaletteGeneratorCool=o.createPaletteGeneratorCool,t.createPaletteGeneratorGreyscale=o.createPaletteGeneratorGreyscale,t.createPaletteGeneratorMonochromaticSaturated=o.createPaletteGeneratorMonochromaticSaturated,t.createPaletteGeneratorMonochromaticLightness=o.createPaletteGeneratorMonochromaticLightness,t.createPaletteGeneratorVivid=o.createPaletteGeneratorVivid,t.createPaletteGeneratorWarm=o.createPaletteGeneratorWarm,t.lerpColorHSL=o.lerpColorHSL,t.lerpColorRGB=o.lerpColorRGB,t.Material=o.Material;var n=r(1);t.createProgram=n.createProgram,t.createProgramByShaderElements=n.createProgramByShaderElements,t.DimEye=n.DimEye,t.DimLight=n.DimLight,t.DimModel=n.DimModel,t.DimOrthographicProjection=n.DimOrthographicProjection,t.DimPerspectiveProjection=n.DimPerspectiveProjection,t.DimScene=n.DimScene,t.DimSceneBase=n.DimSceneBase,t.DimSceneData=n.DimSceneData,t.getWebGLRenderingContext=n.getWebGLRenderingContext;var i=r(46);t.DimCircleModelBuilder=i.DimCircleModelBuilder,t.DimConeModelBuilder=i.DimConeModelBuilder,t.DimCubeModelBuilder=i.DimCubeModelBuilder,t.DimCylinderModelBuilder=i.DimCylinderModelBuilder,t.DimObjModelLoader=i.DimObjModelLoader,t.DimRectangleModelBuilder=i.DimRectangleModelBuilder,t.DimSphereModelBuilder=i.DimSphereModelBuilder,t.DimTriangleModelBuilder=i.DimTriangleModelBuilder;var a=r(7);t.DimMatrix=a.DimMatrix;var s=r(37);t.RasterCircle=s.RasterCircle,t.RasterImage=s.RasterImage,t.RasterRectangle=s.RasterRectangle,t.RasterShape=s.RasterShape,t.RasterText=s.RasterText,t.RasterTriangle=s.RasterTriangle},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(){this.angle=0,this.location=new o.Vector(0,0),this.lineWidth=0,this.strokeStyle="#000000"}return e.prototype.draw=function(e){e.save(),e.translate(this.location.x,this.location.y),e.rotate(o.degrees2radians(this.angle)),e.fillStyle=this.fillStyle,e.lineWidth=this.lineWidth,e.strokeStyle=this.strokeStyle,this.doDraw(e),e.restore()},e}();t.RasterShape=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=["webgl","experimental-webgl","webkit-3d","moz-webgl"];function n(e,t,r){var o=e.createShader(t);if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw e.getShaderInfoLog(o);return o}t.getWebGLRenderingContext=function(e,t){for(var r=null,n=0,i=o;n<i.length;n++){var a=i[n];try{r=e.getContext(a,t)}catch(e){r=null}if(r)break}return r},t.createShader=n,t.createProgramByShaderElements=function(e,t,r){var o,i,a,s=document.getElementById(t),c=document.getElementById(r);if(i=n(e,e.VERTEX_SHADER,s.innerText),a=n(e,e.FRAGMENT_SHADER,c.innerText),o=e.createProgram(),e.attachShader(o,i),e.attachShader(o,a),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS))throw e.getProgramInfoLog(o);return o},t.createProgram=function(e,t,r){var o=n(e,e.VERTEX_SHADER,t),i=n(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,o),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw e.getProgramInfoLog(a);return a},t.toDataArray=function(e){return new Float32Array(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e){void 0===e&&(e=1),this.mass=e,this.location=new o.Vector(0,0),this.velocity=new o.Vector(0,0),this._acceleration=new o.Vector(0,0),this.angle=0,this.aVelocity=0,this._aAcceleration=0,this.speedLimit=10,this.angularLimit=10,this.damping=1}return e.prototype.update=function(){this.velocity.add(this._acceleration),this.velocity.multiply(this.damping),this.aVelocity=this.aVelocity+this._aAcceleration,this.applySpeedLimit(),this.location.add(this.velocity),this.angle=this.angle+this.aVelocity,this._acceleration.multiply(0),this._aAcceleration=0},e.prototype.applyAngularForce=function(e){this._aAcceleration=this._aAcceleration+e},e.prototype.applyForce=function(e){this._acceleration.add(o.Vector.divide(e,this.mass))},e.prototype.applyFriction=function(e){var t=this.velocity.clone();t.normalize(),t.multiply(-1),t.multiply(e),this.applyForce(t)},e.prototype.applyDrag=function(e,t,r){void 0===t&&(t=1),void 0===r&&(r=1);var o=this.velocity.clone(),n=o.magnitude,i=-.5*t*n*n*r*e;o.normalize(),o.multiply(i),this.applyForce(o)},e.prototype.getAttraction=function(e,t,r){void 0===t&&(t=5),void 0===r&&(r=25);var n=o.Vector.subtract(e.location,this.location),i=n.magnitude,a=1;return i>=t&&i<=r?(a=.5*this.mass*e.mass/(i*i),n.normalize(),n.multiply(a)):n.multiply(0),n},e.prototype.applyRepellent=function(e,t,r){void 0===t&&(t=5),void 0===r&&(r=25);var o=this.getAttraction(e,t,r);o.multiply(-1),this.applyForce(o)},e.prototype.applyAttraction=function(e,t,r){void 0===t&&(t=5),void 0===r&&(r=25);var o=this.getAttraction(e,t,r);this.applyForce(o)},e.prototype.applyGravity=function(e){var t=new o.Vector(0,e);t.multiply(this.mass),this.applyForce(t)},e.prototype.applyPassThrough=function(e){this.location.x<e.xMin&&(this.location.x=e.xMax),this.location.x>e.xMax&&(this.location.x=e.xMin),this.location.y<e.yMin&&(this.location.y=e.yMax),this.location.y>e.yMax&&(this.location.y=e.yMin)},e.prototype.applyBounce=function(e){(this.location.x<e.xMin||this.location.x>e.xMax)&&(this.velocity.x=-1*this.velocity.x),(this.location.y<e.yMin||this.location.y>e.yMax)&&(this.velocity.y=-1*this.velocity.y)},e.prototype.applySpeedLimit=function(){this.speedLimit&&this.speedLimit>0&&(this.velocity.magnitude>this.speedLimit&&(this.velocity.magnitude=this.speedLimit));this.aVelocity=o.constrain(this.aVelocity,-this.angularLimit,this.angularLimit)},e}();t.NatureMover=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(51);t.DimMatrix=o.DimMatrix},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(3),s=function(e){function t(){var t=e.call(this)||this;return t.lifeSpan=120,t.fillColor=a.ColorRGB.getRandomInteger(),t}return n(t,e),t.prototype.isDead=function(){return this._life<=0},t.prototype.update=function(){e.prototype.update.call(this),this._life=this._life-1,this.fillColor.a=this._life/this._lifeSpan},t.prototype.draw=function(e){this.body.fillStyle=this.fillColor.toString(),this.body.location=this.location.clone(),this.body.angle=this.angle,this.body.draw(e)},Object.defineProperty(t.prototype,"lifeSpan",{set:function(e){this._life=e,this._lifeSpan=e},enumerable:!0,configurable:!0}),t}(r(6).NatureMover);t.NatureParticle=s;var c=function(e){function t(){var t=e.call(this)||this;return t.body=new a.RasterCircle(i.randomRange(5,10)),t}return n(t,e),t}(s);t.NatureParticleCircle=c;var l=function(e){function t(){var t=e.call(this)||this,r=i.randomRange(10,15);return t.body=new a.RasterRectangle(r,r),t.aVelocity=2,t}return n(t,e),t}(s);t.NatureParticleSquare=l;var u=function(e){function t(){var t=e.call(this)||this,r=i.randomRange(5,10);return t.body=new a.RasterTriangle(r,r),t.aVelocity=2,t}return n(t,e),t}(s);t.NatureParticleTriangle=u},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r.body=t,r}return n(t,e),t.prototype.draw=function(e){this.body.location=this.location.clone(),this.body.angle=this.angle,this.body.draw(e)},t}(r(6).NatureMover);t.NatureActor=i},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){var o=e.call(this)||this;return o.width=t,o.height=r,o}return n(t,e),t.prototype.populate=function(e){this.width=e.width,this.height=e.height,this._hWidth=.5*e.width,this._hHeight=.5*e.height,this.location.x=e.xMin+this._hWidth,this.location.y=e.yMin+this._hHeight},t.prototype.isHit=function(e){return e.x>=this.x&&e.x<=this.limitX&&e.y>=this.y&&e.y<=this.limitY},t.prototype.getArea=function(){return this.width*this.height},t.prototype.doDraw=function(e){e.beginPath(),e.rect(-this._hWidth,-this._hHeight,this._width,this._height),e.closePath(),this.fillStyle&&e.fill(),this.lineWidth>0&&e.stroke()},Object.defineProperty(t.prototype,"x",{get:function(){return this.location.x-this._hWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.location.y-this._hHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._hWidth=.5*e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._hHeight=.5*e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"limitX",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"limitY",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),t}(r(4).RasterShape);t.RasterRectangle=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),n=r(12),i=function(){function e(){this.faceArray=[],this.matrix=new o.DimMatrix}return e.prototype.toData=function(){return new a(this)},e}();t.DimModel=i;var a=function(){return function(e){var t,r;this.elementCount=0,this.elementDataArray=[];for(var o=0,i=e.faceArray;o<i.length;o++)t=i[o],r=new n.DimFaceData(t),this.elementDataArray=this.elementDataArray.concat(r.elementDataArray),this.elementCount=this.elementCount+t.elementCount}}();t.DimModelData=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.elementArray=[]}return Object.defineProperty(e.prototype,"elementCount",{get:function(){return this.elementArray.length},enumerable:!0,configurable:!0}),e.prototype.toData=function(){return new n(this)},e}();t.DimFace=o;var n=function(){return function(e){var t;this.elementDataArray=[];for(var r=0,o=e.elementArray;r<o.length;r++)t=o[r],this.elementDataArray=this.elementDataArray.concat(t.toArray())}}();t.DimFaceData=n},function(e,t,r){"use strict";function o(e,t){return Math.random()*(t-e)+e}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e){void 0===e&&(e=1e3);var t=0;return function(){var r=Math.abs(Math.sin(t))*e%1;return t++,r}}function a(e,t,r){return r[0]+(e-t[0])*(r[1]-r[0])/(t[1]-t[0])}function s(){var e,t=0,r=0;do{e=(t=2*Math.random()-1)*t+(r=2*Math.random()-1)*r}while(0===e||e>1);return t*Math.sqrt(-2*Math.log(e)/e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TWO_PI=2*Math.PI,t.getDistance=function(e,t,r,o){return Math.sqrt(r-e^o-t+2^2)},t.degrees2radians=function(e){return e*Math.PI/180},t.radians2degrees=function(e){return 180*e/Math.PI},t.randomRange=o,t.createRandomRangeGenerator=function(e,t){return function(){return o(e,t)}},t.integerRandomRange=n,t.createIntegerRandomRangeGenerator=function(e,t){return function(){return n(e,t)}},t.createSeededRandom=i,t.createSeededRandomRangeGenerator=function(e,t,r){void 0===r&&(r=1e3);var o=i(r);return function(){return o()*(t-e)+e}},t.createIntegerSeededRandomRangeGenerator=function(e,t,r){void 0===r&&(r=1e3);var o=i(r);return function(){var r=o();return Math.floor(r*(t-e+1))+e}},t.constrain=function(e,t,r){var o=e;return o<t?o=t:o>r&&(o=r),o},t.createConstrainer=function(e,t){return function(r){var o=r;return r<e?o=e:r>t&&(o=t),o}},t.mapDomainRange=a,t.createDomainMapper=function(e){return function(t){return function(r){return a(r,e,t)}}},t.normalDistribution=s,t.normalGaussianGenerator=function(e,t){return function(){return e+t*s()}},t.createHarmonicGenerator=function(e,r){return function(o){return e*Math.cos(t.TWO_PI*o/r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e,t,r,o){void 0===o&&(o=1),this.h=e,this.s=t,this.l=r,this.a=o}return e.getRandom=function(t,r,n,i){return void 0===t&&(t=[0,256]),void 0===r&&(r=[0,100]),void 0===n&&(n=[0,100]),void 0===i&&(i=1),new e(o.integerRandomRange(t[0],t[1]),o.integerRandomRange(r[0],r[1]),o.integerRandomRange(n[0],n[1]),i)},e.getRandomInteger=function(t,r,n,i){return void 0===t&&(t=[0,256]),void 0===r&&(r=[0,100]),void 0===n&&(n=[0,100]),void 0===i&&(i=1),new e(o.integerRandomRange(t[0],t[1]),o.integerRandomRange(r[0],r[1]),o.integerRandomRange(n[0],n[1]),i)},e.prototype.clone=function(){return new e(this.h,this.s,this.l,this.a)},e.prototype.toArray=function(){return[this.h,this.s,this.l,this.a]},e.prototype.toString=function(){return"hsla("+this.h+", "+this.s+"%, "+this.l+"%, "+this.a+")"},e}();t.ColorHSL=n,t.createFactoryColorHSL=function(e,t,r){void 0===e&&(e=[0,1]),void 0===t&&(t=[0,1]),void 0===r&&(r=[0,1]);var i=o.createRandomRangeGenerator(e[0],e[1]),a=o.createRandomRangeGenerator(t[0],t[1]),s=o.createRandomRangeGenerator(r[0],r[1]);return function(e){return void 0===e&&(e=1),new n(i(),a(),s(),e)}},t.createFactoryIntegerColorHSL=function(e,t,r){void 0===e&&(e=[0,256]),void 0===t&&(t=[0,100]),void 0===r&&(r=[0,100]);var i=o.createIntegerRandomRangeGenerator(e[0],e[1]),a=o.createIntegerRandomRangeGenerator(t[0],t[1]),s=o.createIntegerRandomRangeGenerator(r[0],r[1]);return function(e){return void 0===e&&(e=1),new n(i(),a(),s(),e)}},t.lerpColorHSL=function(e,t,r){return new n(Math.floor(e.h+(t.h-e.h)*r),Math.floor(e.s+(t.s-e.s)*r),Math.floor(e.l+(t.l-e.l)*r),Math.floor(e.a+(t.a-e.a)*r))};var i=function(){function e(e,t,r,o){void 0===o&&(o=1),this.r=e,this.g=t,this.b=r,this.a=o}return e.getRandom=function(t,r){void 0===t&&(t=0),void 0===r&&(r=1);var n=o.createRandomRangeGenerator(t,r);return new e(n(),n(),n())},e.getRandomInteger=function(t,r){void 0===t&&(t=0),void 0===r&&(r=256);var n=o.createIntegerRandomRangeGenerator(t,r);return new e(n(),n(),n())},e.prototype.clone=function(){return new e(this.r,this.g,this.b,this.a)},e.prototype.toArray=function(){return[this.r,this.g,this.b,this.a]},e.prototype.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},e}();function a(e){var t;switch(void 0===e&&(e="black"),e){case"indianred":t=new i(205,92,92);break;case"lightcoral":t=new i(240,128,128);break;case"salmon":t=new i(250,128,114);break;case"darksalmon":t=new i(233,150,122);break;case"lightsalmon":t=new i(255,160,122);break;case"crimson":t=new i(220,20,60);break;case"red":t=new i(255,0,0);break;case"firebrick":t=new i(178,34,34);break;case"darkred":t=new i(139,0,0);break;case"pink":t=new i(255,192,203);break;case"lightpink":t=new i(255,182,193);break;case"hotpink":t=new i(255,105,180);break;case"deeppink":t=new i(255,20,147);break;case"mediumvioletred":t=new i(199,21,133);break;case"palevioletred":t=new i(219,112,147);break;case"coral":t=new i(255,127,80);break;case"tomato":t=new i(255,99,71);break;case"orangered":t=new i(255,69,0);break;case"darkorange":t=new i(255,140,0);break;case"orange":t=new i(255,165,0);break;case"gold":t=new i(255,215,0);break;case"yellow":t=new i(255,255,0);break;case"khaki":t=new i(240,230,140);break;case"darkkhaki":t=new i(189,183,107);break;case"lavender":t=new i(230,230,250);break;case"fuchsia":t=new i(255,0,255);break;case"blueviolet":t=new i(138,43,226);break;case"purple":t=new i(128,0,128);break;case"indigo":t=new i(75,0,130);break;case"chartreuse":t=new i(127,255,0);break;case"lime":t=new i(0,255,0);break;case"seagreen":t=new i(46,139,87);break;case"forestgreen":t=new i(34,139,34);break;case"green":t=new i(0,128,0);break;case"olive":t=new i(128,128,0);break;case"darkseagreen":t=new i(143,188,139);break;case"teal":t=new i(0,128,128);break;case"cyan":t=new i(0,255,255);break;case"turquoise":t=new i(64,224,208);break;case"steelblue":t=new i(70,130,180);break;case"powderblue":t=new i(176,224,230);break;case"skyblue":t=new i(135,206,235);break;case"cornflowerblue":t=new i(100,149,237);break;case"royalblue":t=new i(65,105,225);break;case"blue":t=new i(0,0,255);break;case"navy":t=new i(0,0,128);break;case"midnightblue":t=new i(25,25,112);break;case"tan":t=new i(210,180,140);break;case"chocolate":t=new i(210,105,30);break;case"sienna":t=new i(160,82,45);break;case"brown":t=new i(165,42,42);break;case"maroon":t=new i(128,0,0);break;case"white":t=new i(255,255,255);break;case"ghostwhite":t=new i(248,248,255);break;case"whitesmoke":t=new i(245,245,245);break;case"ivory":t=new i(255,255,240);break;case"gainsboro":t=new i(220,220,220);break;case"lightgray":t=new i(211,211,211);break;case"silver":t=new i(192,192,192);break;case"darkgray":t=new i(169,169,169);break;case"gray":t=new i(128,128,128);break;case"dimgray":t=new i(105,105,105);break;case"black":t=new i(0,0,0)}return t}function s(e,t,r){void 0===e&&(e=[0,360]),void 0===t&&(t=[0,100]),void 0===r&&(r=[0,100]);var i=o.createIntegerRandomRangeGenerator(e[0],e[1]),a=o.createIntegerRandomRangeGenerator(t[0],t[1]),s=o.createIntegerRandomRangeGenerator(r[0],r[1]);return function(e){return void 0===e&&(e=1),new n(i(),a(),s(),e)}}function c(e){void 0===e&&(e=195);var t=o.createIntegerRandomRangeGenerator(25,50);return function(){return new n(e,100,t())}}t.ColorRGB=i,t.colorFactoryRGB=a,t.createNamedPaletteGeneratorRGB=function(e){void 0===e&&(e=[]);for(var t,r,n,i=[],s=0,c=e;s<c.length;s++)t=c[s],(r=a(t))&&i.push(r);return n=o.createIntegerRandomRangeGenerator(0,i.length-1),function(e){return void 0===e&&(e=1),(r=i[n()]).alpha=e,r}},t.createFactoryColorRGB=function(e,t,r){void 0===e&&(e=[0,1]),void 0===t&&(t=[0,1]),void 0===r&&(r=[0,1]);var n=o.createRandomRangeGenerator(e[0],e[1]),a=o.createRandomRangeGenerator(t[0],t[1]),s=o.createRandomRangeGenerator(r[0],r[1]);return function(e){return void 0===e&&(e=1),new i(n(),a(),s(),e)}},t.createFactoryIntegerColorRGB=function(e,t,r){void 0===e&&(e=[0,256]),void 0===t&&(t=[0,256]),void 0===r&&(r=[0,256]);var n=o.createIntegerRandomRangeGenerator(e[0],e[1]),a=o.createIntegerRandomRangeGenerator(t[0],t[1]),s=o.createIntegerRandomRangeGenerator(r[0],r[1]);return function(e){return void 0===e&&(e=1),new i(n(),a(),s(),e)}},t.lerpColorRGB=function(e,t,r){return new i(Math.floor(e.r+(t.r-e.r)*r),Math.floor(e.g+(t.g-e.g)*r),Math.floor(e.b+(t.b-e.b)*r),Math.floor(e.a+(t.a-e.a)*r))},t.createPaletteGenerator=s,t.createPaletteGeneratorBright=function(e){void 0===e&&(e=50);var t=s([0,360],[25,75],[e,e]);return function(e){return void 0===e&&(e=1),t(e)}},t.createPaletteGeneratorVivid=function(e){void 0===e&&(e=100);var t=s([0,360],[e,e],[0,50]);return function(e){return void 0===e&&(e=1),t(e)}},t.createPaletteGeneratorMonochromaticSaturated=function(e){void 0===e&&(e=195);var t=o.createIntegerRandomRangeGenerator(50,100);return function(){return new n(e,t(),50)}},t.createPaletteGeneratorMonochromaticLightness=c,t.createPaletteGeneratorGreyscale=function(){var e=o.createIntegerRandomRangeGenerator(0,100);return function(){return new n(0,0,e())}},t.createPaletteGeneratorWarm=function(){var e=o.createIntegerRandomRangeGenerator(0,180);return function(){return new n(e(),100,50)}},t.createPaletteGeneratorCool=function(){var e=o.createIntegerRandomRangeGenerator(180,360);return function(){var t=e();return new n(t,100,50)}},t.createPaletteGeneratorCombo=function(e,t){void 0===e&&(e=3),void 0===t&&(t=45);var r,n=0,i=0,a=Math.floor(360/e),s=[];for(n=0;n<e;n++)i=n*a+t,s.push(c(i));return r=o.createIntegerRandomRangeGenerator(0,s.length-1),function(){var e=r();return s[e]()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(14);t.ColorRGB=o.ColorRGB,t.ColorHSL=o.ColorHSL,t.colorFactoryRGB=o.colorFactoryRGB,t.createNamedPaletteGeneratorRGB=o.createNamedPaletteGeneratorRGB,t.createPaletteGenerator=o.createPaletteGenerator,t.createPaletteGeneratorBright=o.createPaletteGeneratorBright,t.createPaletteGeneratorCombo=o.createPaletteGeneratorCombo,t.createPaletteGeneratorCool=o.createPaletteGeneratorCool,t.createPaletteGeneratorGreyscale=o.createPaletteGeneratorGreyscale,t.createPaletteGeneratorMonochromaticSaturated=o.createPaletteGeneratorMonochromaticSaturated,t.createPaletteGeneratorMonochromaticLightness=o.createPaletteGeneratorMonochromaticLightness,t.createPaletteGeneratorVivid=o.createPaletteGeneratorVivid,t.createPaletteGeneratorWarm=o.createPaletteGeneratorWarm,t.lerpColorHSL=o.lerpColorHSL,t.lerpColorRGB=o.lerpColorRGB;var n=r(54);t.Font=n.Font;var i=r(53);t.Material=i.Material},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.mouseElementLocation=function(e,t){var r=t.getBoundingClientRect(),n=(e.clientX-r.left)*(t.width/r.width),i=(e.clientY-r.top)*(t.height/r.height);return new o.Vector(n,i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(16);t.mouseElementLocation=o.mouseElementLocation},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),a=function(e){function t(){var t=e.call(this)||this;return t.actorArray=[],t}return n(t,e),t.prototype.getSceneData=function(){for(var e,t=new i.DimSceneData,r=0,o=this.actorArray;r<o.length;r++)e=o[r],t.addModelData(e.model.toData());return t},t.prototype.updateRender=function(e){for(var t,r=0,o=0,n=this.actorArray;o<n.length;o++)(t=n[o]).update(),this.container&&this.container.contain(t.mover),r=this.renderModel(e,t.model,r)},t}(i.DimSceneBase);t.NatureDimScene=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.model=e,this.mover=t}return e.prototype.update=function(){this.mover.update(),this.model.matrix.translationX=this.mover.location.x,this.model.matrix.translationY=this.mover.location.y,this.model.matrix.translationZ=this.mover.location.z},e}();t.NatureDimActor=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(19);t.NatureDimActor=o.NatureDimActor;var n=r(18);t.NatureDimScene=n.NatureDimScene},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.container=e,this.constrainBounce=!1,this.constrainPassThrough=!1}return e.prototype.contain=function(e){this.constrainBounce&&this.container?e.applyBounce(this.container):this.constrainPassThrough&&this.container&&e.applyPassThrough(this.container)},e}();t.NatureContainer=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e,t){void 0===e&&(e=100),void 0===t&&(t=100),this.amplitude=e,this.period=t,this.location=new o.Vector,this.lineWidth=30,this.aVelocity=.1,this.increment=.5*this.period,this._startAngle=0}return e.prototype.draw=function(e){e.save(),e.lineWidth=this.lineWidth,e.strokeStyle=this.strokeStyle,e.translate(this.location.x,this.location.y),e.beginPath();var t=this._startAngle;this._startAngle+=this.aVelocity;var r=this.amplitude*Math.sin(t);e.moveTo(0,r),t+=this.aVelocity;for(var o=this.increment;o<=this.period;o+=this.increment)r=this.amplitude*Math.sin(t),e.lineTo(o,r),t+=this.aVelocity;e.stroke(),e.closePath(),e.restore()},e}();t.NatureWave=n},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=function(e){function t(t){var r=e.call(this)||this;return r._body=t,r.normalGaussianGenerator=i.normalGaussianGenerator(0,15),r}return n(t,e),t.prototype.stepX=function(){var e=Math.random();e<=.4?this.location.x=this.location.x+1:e<=.9&&(this.location.x=this.location.x-1)},t.prototype.stepY=function(){var e=Math.random();e<=.4?this.location.y=this.location.y+1:e<=.9&&(this.location.y=this.location.y-1)},t.prototype.walk=function(){this.stepX(),this.stepY()},t.prototype.place=function(){this.location.x=this.normalGaussianGenerator()},t.prototype.draw=function(e){this._body.location=this.location.clone(),this._body.draw(e)},t}(r(6).NatureMover);t.NatureWalker=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=function(){function e(){this.lineWidth=1}return e.prototype.draw=function(e){var t=2*Math.PI*this.value-Math.PI/2;e.save(),e.lineWidth=this.lineWidth,e.moveTo(this.startLocation.x,this.startLocation.y),e.lineTo(this.startLocation.x+Math.cos(t)*this.length,this.startLocation.y+Math.sin(t)*this.length),e.stroke(),e.restore()},e}(),i=function(){function e(){this.setFont(25,"Arial"),this._numerals=[1,2,3,4,5,6,7,8,9,10,11,12]}return e.prototype.setFont=function(e,t){this._fontHeight=e,this._font=e.toString()+"px "+t},e.prototype.draw=function(e){for(var t=0,r=0,o="",n=0,i=0,a=0,s=this._numerals;a<s.length;a++){var c=s[a];t=Math.PI/6*(c-3),o=c.toString(),e.save(),e.font=this._font,r=e.measureText(o).width,n=this.center.x+Math.cos(t)*this.radius-r/2,i=this.center.y+Math.sin(t)*this.radius+this._fontHeight/3,e.fillText(o,n,i),e.restore()}},e}(),a=function(){function e(e,t){var r=new o.ColorRGB(255,255,255,1);this._innerCircle=new o.RasterCircle,this._outerCircle=new o.RasterCircle,this._outerCircle.lineWidth=5,this._outerCircle.fillStyle=r.toString(),this._hourHand=new n,this._minuteHand=new n,this._secondHand=new n,this._numerals=new i,this.center=e,this.radius=t}return Object.defineProperty(e.prototype,"center",{set:function(e){this._center=e,this._innerCircle.location=e,this._outerCircle.location=e,this._hourHand.startLocation=e,this._minuteHand.startLocation=e,this._secondHand.startLocation=e,this._numerals.center=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{set:function(e){this._radius=e,this._outerCircle.radius=e,this._innerCircle.radius=.05*e,this._hourHand.length=.7*this._radius,this._hourHand.lineWidth=10,this._minuteHand.length=.8*this._radius,this._minuteHand.lineWidth=5,this._secondHand.length=.9*this._radius,this._numerals.radius=.85*this._radius},enumerable:!0,configurable:!0}),e.prototype.draw=function(e){var t=this.date.getHours(),r=this.date.getMinutes(),o=this.date.getSeconds();this._outerCircle.draw(e),this._innerCircle.draw(e),this._hourHand.value=t/12,this._hourHand.draw(e),this._minuteHand.value=r/60,this._minuteHand.draw(e),this._secondHand.value=o/60,this._secondHand.draw(e),this._numerals.draw(e)},e}();t.NatureClock=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(24);t.NatureClock=o.NatureClock},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e,t){this.anchor=e,this.length=t,this.minLength=30,this.maxLength=2*this.length}return e.prototype.connect=function(e){var t=o.Vector.subtract(e.location,this.anchor.location),r=t.magnitude-this.length;t.normalize(),t.multiply(-.02*r),e.applyForce(t)},e.prototype.constrainLength=function(e){var t=o.Vector.subtract(e.location,this.anchor.location),r=t.magnitude;r<this.minLength?(t.normalize(),t.multiply(this.minLength),e.location=o.Vector.add(this.anchor.location,t),e.velocity.multiply(0)):r>this.maxLength&&(t.normalize(),t.multiply(this.maxLength),e.location=o.Vector.add(this.anchor.location,t),e.velocity.multiply(0))},e.prototype.draw=function(e,t){e.save(),e.strokeStyle=this.strokeStyle,e.beginPath(),e.moveTo(this.anchor.location.x,this.anchor.location.y),e.lineTo(t.location.x,t.location.y),e.stroke(),e.closePath(),e.restore(),this.anchor.draw(e)},e}();t.NatureSpring=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(3),i=function(){function e(e){this.location=e,this.strength=500,this.body=new n.RasterCircle}return e.prototype.repel=function(e){var t,r=o.Vector.subtract(this.location,e.location),n=r.magnitude;return n=o.constrain(n,5,200),r.normalize(),t=-1*this.strength/(n*n),r.multiply(t),r},e.prototype.draw=function(e){this.body.location=this.location.clone(),this.body.draw(e)},e}();t.NatureRepeller=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=r(9),i=function(){function e(e,t){this.anchor=e,this.radius=t,this.angle=Math.PI/4,this.aVelocity=0,this._aAcceleration=0,this.damping=.9995;var r=new o.RasterCircle;this.bob=new n.NatureActor(r),this.updateBobLocation()}return e.prototype.update=function(){this._aAcceleration=-.4/this.radius*Math.sin(this.angle),this.aVelocity=this.aVelocity+this._aAcceleration,this.angle=this.angle+this.aVelocity,this.aVelocity=this.aVelocity*this.damping,this.updateBobLocation()},e.prototype.draw=function(e){e.save(),e.strokeStyle=this._strokeStyle,e.beginPath(),e.moveTo(this.anchor.x,this.anchor.y),e.lineTo(this.bob.location.x,this.bob.location.y),e.stroke(),e.closePath(),e.restore(),this.bob.draw(e)},e.prototype.updateBobLocation=function(){this.bob.location.setXYRadians(this.angle,this.radius),this.bob.location.add(this.anchor)},Object.defineProperty(e.prototype,"strokeStyle",{set:function(e){this._strokeStyle=e,this.bob.body.strokeStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillStyle",{set:function(e){this.bob.body.fillStyle=e},enumerable:!0,configurable:!0}),e}();t.NaturePendulum=i},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(8),s=function(){function e(e){this.location=e,this.particles=[]}return e.prototype.applyForce=function(e){for(var t=0,r=this.particles;t<r.length;t++)r[t].applyForce(e)},e.prototype.applyRepeller=function(e){for(var t,r,o=0,n=this.particles;o<n.length;o++)t=n[o],r=e.repel(t),t.applyForce(r)},e.prototype.draw=function(e){for(var t,r=this.particles.length-1;r>=0;r--)(t=this.particles[r]).isDead()?this.particles.splice(r,1):(t.update(),t.draw(e))},e}();t.NatureParticleSystem=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.addParticle=function(){var e,t=Math.random();(e=t<.34?new a.NatureParticleCircle:t<.67?new a.NatureParticleSquare:new a.NatureParticleTriangle).velocity=new i.Vector(i.randomRange(-2,2),i.randomRange(-3,-1)),e.location=this.location.clone(),this.particles.push(e)},t}(s);t.NatureParticleSystemConfetti=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(8);t.NatureParticle=o.NatureParticle;var n=r(29);t.NatureParticleSystemConfetti=n.NatureParticleSystemConfetti},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(){this.location=new o.Vector,this.angle=new o.Vector,this.velocity=new o.Vector,this.amplitude=new o.Vector}return e.prototype.oscillate=function(){this.angle.add(this.velocity)},e.prototype.draw=function(e){var t=Math.sin(this.angle.x)*this.amplitude.x,r=Math.sin(this.angle.y)*this.amplitude.y;this.body.location.x=t,this.body.location.y=r,e.save(),e.translate(this.location.x,this.location.y),this.body.draw(e),e.restore()},e}();t.NatureOscillator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(9);t.NatureActor=o.NatureActor;var n=r(6);t.NatureMover=n.NatureMover;var i=r(31);t.NatureOscillator=i.NatureOscillator;var a=r(30);t.NatureParticle=a.NatureParticle,t.NatureParticleSystemConfetti=a.NatureParticleSystemConfetti;var s=r(28);t.NaturePendulum=s.NaturePendulum;var c=r(27);t.NatureRepeller=c.NatureRepeller;var l=r(26);t.NatureSpring=l.NatureSpring;var u=r(25);t.NatureClock=u.NatureClock;var h=r(23);t.NatureWalker=h.NatureWalker;var d=r(22);t.NatureWave=d.NatureWave;var f=r(21);t.NatureContainer=f.NatureContainer;var p=r(20);t.NatureDimActor=p.NatureDimActor,t.NatureDimScene=p.NatureDimScene},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r){void 0===t&&(t=50),void 0===r&&(r=50);var o=e.call(this)||this;return o.width=t,o.height=r,o}return n(t,e),t.prototype.doDraw=function(e){e.beginPath(),e.moveTo(-this._hWidth,this._hHeight),e.lineTo(0,-this._hHeight),e.lineTo(this._hWidth,this._hHeight),e.closePath(),this.fillStyle&&e.fill(),this.lineWidth>0&&e.stroke()},t.prototype.isHit=function(e){return!1},Object.defineProperty(t.prototype,"width",{set:function(e){this._hWidth=.5*e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{set:function(e){this._hHeight=.5*e},enumerable:!0,configurable:!0}),t}(r(4).RasterShape);t.RasterTriangle=i},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r.value=t,r}return n(t,e),t.prototype.doDraw=function(e){e.font=this.fontStyle,this.fillStyle&&e.fillText(this.value,0,0),this.lineWidth>0&&e.strokeText(this.value,0,0)},t.prototype.isHit=function(e){return!1},t}(r(4).RasterShape);t.RasterText=i},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this,t.width,t.height)||this;return r.image=t,r}return n(t,e),t.prototype.doDraw=function(e){e.drawImage(this.image,0,0,this.width,this.height)},t}(r(10).RasterRectangle);t.RasterImage=i},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){void 0===t&&(t=50);var r=e.call(this)||this;return r.radius=t,r}return n(t,e),t.prototype.doDraw=function(e){e.beginPath(),e.arc(0,0,this.radius,0,2*Math.PI,!0),e.closePath(),this.fillStyle&&e.fill(),this.lineWidth>0&&e.stroke()},t.prototype.isHit=function(e){var t=e.x-this.location.x,r=e.y-this.location.y;return Math.pow(t,2)+Math.pow(r,2)<Math.pow(this.radius,2)},t}(r(4).RasterShape);t.RasterCircle=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(36);t.RasterCircle=o.RasterCircle;var n=r(35);t.RasterImage=n.RasterImage;var i=r(10);t.RasterRectangle=i.RasterRectangle;var a=r(4);t.RasterShape=a.RasterShape;var s=r(34);t.RasterText=s.RasterText;var c=r(33);t.RasterTriangle=c.RasterTriangle},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(1),i=function(){function e(){}return e.prototype.parseModel=function(e,t,r){var i,a,s,c,l,u,h,d,f,p,m=/\s+/,y=/\//,v=[],g=[],_=[];for(p=new n.DimModel,h=r.split("\n"),i=0;i<h.length;i++)if((u=h[i]).startsWith("vt"))c=u.split(m),g.push([parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])]);else if(u.startsWith("vn"))c=u.split(m),_.push(new o.Vector(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])));else if(u.startsWith("v"))c=u.split(m),v.push(new o.Vector(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])));else if(u.startsWith("f")&&(c=u.split(m)).length>0){for((d=new n.DimFace).drawMode=e.TRIANGLES,t&&(d.material=t),a=1;a<c.length;a++)c[a]&&""!==c[a]&&(l=c[a].split(y)).length>0&&v.length>0&&(s=parseInt(l[0])-1,(f=new n.DimElement).vertex=v[s],_.length>0&&l.length>2&&""!==l[2]&&(s=parseInt(l[2])-1,f.normal=_[s]),d.elementArray.push(f));p.faceArray.push(d)}return p},e.prototype.loadModel=function(e,t,r){var o,n=this.parseModel,i=this.material,a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&(o=n(e,i,this.responseText),r(o))},a.open("GET",t,!0),a.send()},e}();t.DimObjModelLoader=i},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=function(e){function t(t,r){void 0===t&&(t=1),void 0===r&&(r=1);var o=e.call(this)||this;return o.width=t,o.height=r,o}return n(t,e),t.prototype.buildModel=function(e){var t,r,o,n=.5*this.width,s=.5*this.height,c=this.origin.x-n,l=this.origin.y-s,u=this.origin.x,h=this.origin.y+s,d=this.origin.x+n,f=this.origin.y-s;return t=new a.DimModel,(r=new a.DimFace).drawMode=e.TRIANGLES,this.material&&(r.material=this.material),(o=new a.DimElement).vertex=new i.Vector(c,l,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),(o=new a.DimElement).vertex=new i.Vector(u,h,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),(o=new a.DimElement).vertex=new i.Vector(d,f,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),t.faceArray.push(r),t},t}(r(2).ModelBuilder);t.DimTriangleModelBuilder=s},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=r(2),c=2*Math.PI,l=function(e){function t(t,r){void 0===t&&(t=.5),void 0===r&&(r=20);var o=e.call(this)||this;return o.radius=t,o.divisions=r,o}return n(t,e),t.prototype.buildModel=function(e){var t,r,o,n=0,s=0,l=c/this.divisions,u=Math.PI/this.divisions;for(t=new a.DimModel,(r=new a.DimFace).drawMode=e.TRIANGLE_STRIP,this.material&&(r.material=this.material),n=0;n<Math.PI;n+=u)for(n!=Math.PI&&n+u>Math.PI&&(n=Math.PI-u),s=0;s<=c;s+=l)s!=c&&s+l>c&&(s=c-l),(o=new a.DimElement).vertex=new i.Vector(this.radius*Math.sin(n)*Math.cos(s),this.radius*Math.cos(n),this.radius*Math.sin(n)*Math.sin(s)),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=o.vertex.clone(),o.normal.normalize()),r.elementArray.push(o),(o=new a.DimElement).vertex=new i.Vector(this.radius*Math.sin(n+u)*Math.cos(s),this.radius*Math.cos(n+u),this.radius*Math.sin(n+u)*Math.sin(s)),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=o.vertex.clone(),o.normal.normalize()),r.elementArray.push(o);return t.faceArray.push(r),t},t}(s.ModelBuilder);t.DimSphereModelBuilder=l},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=function(e){function t(t,r){void 0===t&&(t=1),void 0===r&&(r=1);var o=e.call(this)||this;return o.width=t,o.height=r,o}return n(t,e),t.prototype.buildModel=function(e){var t,r,o,n=.5*this.width,s=.5*this.height;return t=new a.DimModel,(r=new a.DimFace).drawMode=e.TRIANGLE_FAN,this.material&&(r.material=this.material),(o=new a.DimElement).vertex=new i.Vector(this.origin.x-n,this.origin.y-s,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),(o=new a.DimElement).vertex=new i.Vector(this.origin.x-n,this.origin.y+s,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),(o=new a.DimElement).vertex=new i.Vector(this.origin.x+n,this.origin.y+s,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),(o=new a.DimElement).vertex=new i.Vector(this.origin.x+n,this.origin.y-s,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),t.faceArray.push(r),t},t}(r(2).ModelBuilder);t.DimRectangleModelBuilder=s},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=r(2),c=2*Math.PI,l=function(e){function t(t,r,o){void 0===t&&(t=.5),void 0===r&&(r=1),void 0===o&&(o=20);var n=e.call(this)||this;return n.radius=t,n.height=r,n.divisions=o,n}return n(t,e),t.prototype.buildModel=function(e){var t,r,o,n,s,l,u=c/this.divisions,h=.5*this.height,d=[];for(t=new a.DimModel,s=0;s<=c;s+=u)s!=c&&s+u>c&&(s=c-u),l=new i.Vector(this.radius*Math.cos(s),0,this.radius*Math.sin(s)),d.push(l);for((r=new a.DimFace).drawMode=e.TRIANGLE_STRIP,this.material&&(r.material=this.material),n=0;n<d.length;n++)l=d[n],(o=new a.DimElement).vertex=new i.Vector(l.x,h,l.z),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=o.vertex.clone(),o.normal.normalize()),r.elementArray.push(o),(o=new a.DimElement).vertex=new i.Vector(l.x,-h,l.z),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=o.vertex.clone(),o.normal.normalize()),r.elementArray.push(o);for(t.faceArray.push(r),(r=new a.DimFace).drawMode=e.TRIANGLE_FAN,this.material&&(r.material=this.material),(o=new a.DimElement).vertex=new i.Vector(0,h,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,1,0)),r.elementArray.push(o),n=0;n<d.length;n++)l=d[n],(o=new a.DimElement).vertex=new i.Vector(l.x,h,l.z),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,1,0)),r.elementArray.push(o);for(t.faceArray.push(r),(r=new a.DimFace).drawMode=e.TRIANGLE_FAN,this.material&&(r.material=this.material),(o=new a.DimElement).vertex=new i.Vector(0,-h,0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,-1,0)),r.elementArray.push(o),n=0;n<d.length;n++)l=d[n],(o=new a.DimElement).vertex=new i.Vector(l.x,-h,l.z),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,-1,0)),r.elementArray.push(o);return t.faceArray.push(r),t},t}(s.ModelBuilder);t.DimCylinderModelBuilder=l},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=function(e){function t(t,r,o){void 0===t&&(t=1),void 0===r&&(r=1),void 0===o&&(o=1);var n=e.call(this)||this;return n._quadArray=[[1,0,3,2],[2,3,7,6],[3,0,4,7],[6,5,1,2],[4,5,6,7],[5,4,0,1]],n.dimensions={width:t,height:r,depth:o},n}return n(t,e),Object.defineProperty(t.prototype,"dimensions",{set:function(e){var t=.5*e.width,r=.5*e.height,o=.5*e.depth;this._vertexArray=[new i.Vector(-t,-r,o),new i.Vector(-t,r,o),new i.Vector(t,r,o),new i.Vector(t,-r,o),new i.Vector(-t,-r,-o),new i.Vector(-t,r,-o),new i.Vector(t,r,-o),new i.Vector(t,-r,-o)],this._normalArray=[new i.Vector(0,0,1),new i.Vector(1,0,0),new i.Vector(0,-1,0),new i.Vector(0,1,0),new i.Vector(0,0,-1),new i.Vector(-1,0,0)]},enumerable:!0,configurable:!0}),t.prototype.buildModel=function(e){var t,r,o,n,i,s;for(t=new a.DimModel,n=0;n<this._quadArray.length;n++){for((r=new a.DimFace).drawMode=e.TRIANGLE_FAN,this.material&&(r.material=this.material),s=this._quadArray[n],i=0;i<s.length;++i)(o=new a.DimElement).vertex=this._vertexArray[s[i]],this.color&&(o.color=this.color),this.hasNormals&&(o.normal=this._normalArray[n]),r.elementArray.push(o);t.faceArray.push(r)}return t},t}(r(2).ModelBuilder);t.DimCubeModelBuilder=s},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=r(2),c=2*Math.PI,l=function(e){function t(t,r,o){void 0===t&&(t=.5),void 0===r&&(r=1),void 0===o&&(o=20);var n=e.call(this)||this;return n.radius=t,n.height=r,n.divisions=o,n}return n(t,e),t.prototype.buildModel=function(e){var t,r,o,n,s,l,u=c/this.divisions,h=.5*this.height,d=[];for(t=new a.DimModel,s=0;s<=c;s+=u)s!=c&&s+u>c&&(s=c-u),l=new i.Vector(this.radius*Math.cos(s),0,this.radius*Math.sin(s)),d.push(l);for((r=new a.DimFace).drawMode=e.TRIANGLE_FAN,this.material&&(r.material=this.material),(o=new a.DimElement).vertex=new i.Vector(0,h,0),r.elementArray.push(o),n=0;n<d.length;n++)l=d[n],(o=new a.DimElement).vertex=new i.Vector(l.x,-h,l.z),r.elementArray.push(o);for(t.faceArray.push(r),(r=new a.DimFace).drawMode=e.TRIANGLE_FAN,this.material&&(r.material=this.material),(o=new a.DimElement).vertex=new i.Vector(0,-h,0),r.elementArray.push(o),n=0;n<d.length;n++)l=d[n],(o=new a.DimElement).vertex=new i.Vector(l.x,-h,l.z),r.elementArray.push(o);return t.faceArray.push(r),t},t}(s.ModelBuilder);t.DimConeModelBuilder=l},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),s=r(2),c=2*Math.PI,l=function(e){function t(t,r){void 0===t&&(t=1),void 0===r&&(r=10);var o=e.call(this)||this;return o.radius=t,o.divisions=r,o}return n(t,e),t.prototype.buildModel=function(e){var t,r,o,n,s=c/this.divisions;for(t=new a.DimModel,(r=new a.DimFace).drawMode=e.TRIANGLE_FAN,this.material&&(r.material=this.material),(o=new a.DimElement).vertex=new i.Vector,this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o),n=0;n<=c;n+=s)n!=c&&n+s>c&&(n=c-s),(o=new a.DimElement).vertex=new i.Vector(this.radius*Math.cos(n),this.radius*Math.sin(n),0),this.color&&(o.color=this.color),this.hasNormals&&(o.normal=new i.Vector(0,0,1)),r.elementArray.push(o);return t.faceArray.push(r),t},t}(s.ModelBuilder);t.DimCircleModelBuilder=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(45);t.DimCircleModelBuilder=o.DimCircleModelBuilder;var n=r(44);t.DimConeModelBuilder=n.DimConeModelBuilder;var i=r(43);t.DimCubeModelBuilder=i.DimCubeModelBuilder;var a=r(42);t.DimCylinderModelBuilder=a.DimCylinderModelBuilder;var s=r(41);t.DimRectangleModelBuilder=s.DimRectangleModelBuilder;var c=r(40);t.DimSphereModelBuilder=c.DimSphereModelBuilder;var l=r(39);t.DimTriangleModelBuilder=l.DimTriangleModelBuilder;var u=r(38);t.DimObjModelLoader=u.DimObjModelLoader},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),a=r(11),s=function(){function e(e,t){void 0===e&&(e=1),void 0===t&&(t=3),this.id=e,this.vertexSize=t,this.colorSize=0,this.normalSize=0,this.hasTransformation=!1,this.hasMaterial=!1}return Object.defineProperty(e.prototype,"elementSize",{get:function(){return this.vertexSize+this.colorSize+this.normalSize},enumerable:!0,configurable:!0}),e.prototype.loadSceneData=function(e){var t=this.getSceneData();e.bindBuffer(e.ARRAY_BUFFER,this.bufferId),e.bufferData(e.ARRAY_BUFFER,i.toDataArray(t.elementDataArray),e.STATIC_DRAW)},e.prototype.init=function(e,t){var r=0,o=Float32Array.BYTES_PER_ELEMENT*this.elementSize;this.getSceneData();this.hasTransformation&&(this.uTranslationMatrix=e.getUniformLocation(t,"u_TranslationMatrix_"+this.id),this.uRotationMatrixX=e.getUniformLocation(t,"u_RotationMatrixX_"+this.id),this.uRotationMatrixY=e.getUniformLocation(t,"u_RotationMatrixY_"+this.id),this.uRotationMatrixZ=e.getUniformLocation(t,"u_RotationMatrixZ_"+this.id),this.uScaleMatrix=e.getUniformLocation(t,"u_ScaleMatrix_"+this.id)),this.hasMaterial&&(this.uAmbient=e.getUniformLocation(t,"u_Ambient_"+this.id),this.uDiffuse=e.getUniformLocation(t,"u_Diffuse_"+this.id),this.uSpecular=e.getUniformLocation(t,"u_Specular_"+this.id),this.uShininess=e.getUniformLocation(t,"u_Shininess_"+this.id)),this.bufferId=e.createBuffer(),this.loadSceneData(e),this.aPosition=e.getAttribLocation(t,"a_Position_"+this.id),e.vertexAttribPointer(this.aPosition,this.vertexSize,e.FLOAT,!1,o,r),r+=this.vertexSize,this.colorSize>0&&(this.aColor=e.getAttribLocation(t,"a_Color_"+this.id),e.vertexAttribPointer(this.aColor,this.colorSize,e.FLOAT,!1,o,Float32Array.BYTES_PER_ELEMENT*r),r+=this.colorSize),this.normalSize>0&&(this.aNormal=e.getAttribLocation(t,"a_Normal_"+this.id),e.vertexAttribPointer(this.aNormal,this.normalSize,e.FLOAT,!1,o,Float32Array.BYTES_PER_ELEMENT*r),r+=this.normalSize),e.enableVertexAttribArray(this.aPosition),this.colorSize>0&&e.enableVertexAttribArray(this.aColor),this.normalSize>0&&e.enableVertexAttribArray(this.aNormal)},e.prototype.renderModel=function(e,t,r){void 0===r&&(r=0);var o,n=r;this.hasTransformation&&(e.uniformMatrix4fv(this.uTranslationMatrix,!1,i.toDataArray(t.matrix.toTranslationArray())),e.uniformMatrix4fv(this.uRotationMatrixX,!1,i.toDataArray(t.matrix.toRotationArrayX())),e.uniformMatrix4fv(this.uRotationMatrixY,!1,i.toDataArray(t.matrix.toRotationArrayY())),e.uniformMatrix4fv(this.uRotationMatrixZ,!1,i.toDataArray(t.matrix.toRotationArrayZ())),e.uniformMatrix4fv(this.uScaleMatrix,!1,i.toDataArray(t.matrix.toScaleArray())));for(var a=0,s=t.faceArray;a<s.length;a++){if(o=s[a],this.hasMaterial&&o.material){var c=o.material;e.uniform4fv(this.uAmbient,i.toDataArray(c.ambient.toArray())),e.uniform4fv(this.uDiffuse,i.toDataArray(c.diffuse.toArray())),e.uniform4fv(this.uSpecular,i.toDataArray(c.specular.toArray())),e.uniform1f(this.uShininess,c.shininess)}e.drawArrays(o.drawMode,n,o.elementCount),n+=o.elementCount}return n},e}();t.DimSceneBase=s;var c=function(e){function t(){var t=e.call(this)||this;return t.modelArray=[],t}return n(t,e),t.prototype.getSceneData=function(){var e=new l;return e.populate(this.modelArray),e},t.prototype.rotate=function(){for(var e,t=0,r=this.modelArray;t<r.length;t++)(e=r[t]).matrix.rotationX=e.matrix.rotationX+1},t.prototype.render=function(e){for(var t,r=0,o=0,n=this.modelArray;o<n.length;o++)t=n[o],r=this.renderModel(e,t,r)},t}(s);t.DimScene=c;var l=function(){function e(){this.elementCount=0,this.elementDataArray=[]}return e.prototype.addModelData=function(e){this.elementDataArray=this.elementDataArray.concat(e.elementDataArray),this.elementCount=this.elementCount+e.elementCount},e.prototype.populate=function(e){var t,r;this.elementCount=0,this.elementDataArray=[];for(var o=0,n=e;o<n.length;o++)t=n[o],r=new a.DimModelData(t),this.addModelData(r)},e}();t.DimSceneData=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(){this.vertex=new o.Vector}return e.prototype.toArray=function(){var e=[];return e=e.concat(this.vertex.toArray()),this.color&&(e=e.concat(this.color.toArray())),this.normal&&(e=e.concat(this.normal.toArray())),e},e}();t.DimElement=n},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),a=r(5),s=function(){function e(e,t){this.near=e,this.far=t}return e.prototype.init=function(e,t){this.uProjectionMatrixLocation=e.getUniformLocation(t,"u_ProjectionMatrix")},e.prototype.render=function(e){if(!this.uProjectionMatrixLocation)throw"GL uniform u_ProjectionMatrix location required.";e.uniformMatrix4fv(this.uProjectionMatrixLocation,!1,a.toDataArray(this.projectionMatrix))},e}(),c=function(e){function t(t,r){void 0===t&&(t=5),void 0===r&&(r=-5);var o=e.call(this,t,r)||this;return o.left=-1,o.right=1,o.bottom=-1,o.top=1,o}return n(t,e),Object.defineProperty(t.prototype,"projectionMatrix",{get:function(){return i.DimMatrix.orthographicProjection(this.left,this.right,this.bottom,this.top,this.near,this.far)},enumerable:!0,configurable:!0}),t}(s);t.DimOrthographicProjection=c;var l=function(e){function t(t,r,o){void 0===r&&(r=.1),void 0===o&&(o=-10);var n=e.call(this,r,o)||this;return n.aspect=t,n.angle=45,n}return n(t,e),Object.defineProperty(t.prototype,"projectionMatrix",{get:function(){return i.DimMatrix.perspectiveProjection(this.angle,this.aspect,this.near,this.far)},enumerable:!0,configurable:!0}),t}(s);t.DimPerspectiveProjection=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(15),i=r(5),a=function(){function e(e){void 0===e&&(e=1),this.id=e}return e.starter=function(){var t=new e;return t.position=new o.Vector(2,2,2),t.ambient=new n.ColorRGB(.2,.2,.2),t.diffuse=new n.ColorRGB(1,1,1),t.specular=new n.ColorRGB(.5,.5,.5),t},e.prototype.init=function(e,t){this.uLightPositionLocation=e.getUniformLocation(t,"u_LightPosition_"+this.id),this.uLightAmbientLocation=e.getUniformLocation(t,"u_LightAmbient_"+this.id),this.uLightDiffuseLocation=e.getUniformLocation(t,"u_LightDiffuse_"+this.id),this.uLightSpecularLocation=e.getUniformLocation(t,"u_LightSpecular_"+this.id)},e.prototype.render=function(e){if(!this.uLightPositionLocation)throw"GL uniform u_LightPosition location required.";if(!this.uLightAmbientLocation)throw"GL uniform u_LightAmbient location required.";if(!this.uLightDiffuseLocation)throw"GL uniform u_LightDiffuse location required.";if(!this.uLightSpecularLocation)throw"GL uniform u_LightSpecular location required.";e.uniform3fv(this.uLightPositionLocation,i.toDataArray(this.position.toArray())),e.uniform4fv(this.uLightAmbientLocation,i.toDataArray(this.ambient.toArray())),e.uniform4fv(this.uLightDiffuseLocation,i.toDataArray(this.diffuse.toArray())),e.uniform4fv(this.uLightSpecularLocation,i.toDataArray(this.specular.toArray()))},e}();t.DimLight=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(){this.translationX=0,this.translationY=0,this.translationZ=0,this.rotationX=0,this.rotationY=0,this.rotationZ=0,this.scaleX=1,this.scaleY=1,this.scaleZ=1}return e.identity=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},e.orthographicProjection=function(t,r,o,n,i,a){var s=r-t,c=n-o,l=a-i,u=e.identity();return u[0]=2/s,u[5]=2/c,u[10]=-2/l,u[3]=(t+r)/s,u[13]=(n+o)/c,u[14]=(i+a)/l,u},e.perspectiveProjection=function(t,r,n,i){var a=1/Math.tan(o.degrees2radians(t)/2),s=i-n,c=e.identity();return c[0]=a/r,c[5]=a,c[10]=-(n+i)/s,c[14]=-2*n*i/s,c[11]=-1,c[15]=0,c},e.createLookAtViewMatrix=function(t,r,n){var i,a,s,c=e.identity();return(i=o.Vector.subtract(t,r)).normalize(),(a=o.Vector.cross(i,n)).normalize(),(s=o.Vector.cross(a,i)).normalize(),c[0]=a.x,c[4]=a.y,c[8]=a.z,c[12]=-o.Vector.dot(a,t),c[1]=s.x,c[5]=s.y,c[9]=s.z,c[13]=-o.Vector.dot(s,t),c[2]=i.x,c[6]=i.y,c[10]=i.z,c[14]=-o.Vector.dot(i,t),c},e.prototype.toRotationArrayX=function(){var e=o.degrees2radians(this.rotationX),t=Math.cos(e),r=Math.sin(e);return[1,0,0,0,0,t,r,0,0,-r,t,0,0,0,0,1]},e.prototype.toRotationArrayY=function(){var e=o.degrees2radians(this.rotationY),t=Math.cos(e),r=Math.sin(e);return[t,0,-r,0,0,1,0,0,r,0,t,0,0,0,0,1]},e.prototype.toRotationArrayZ=function(){var e=o.degrees2radians(this.rotationZ),t=Math.cos(e),r=Math.sin(e);return[t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1]},e.prototype.toScaleArray=function(){return[this.scaleX,0,0,0,0,this.scaleY,0,0,0,0,this.scaleZ,0,0,0,0,1]},e.prototype.toTranslationArray=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,this.translationX,this.translationY,this.translationZ,1]},e}();t.DimMatrix=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(7),i=r(5),a=function(){function e(){this.position=new o.Vector(0,0,4),this.at=new o.Vector,this.up=new o.Vector(0,1,0)}return Object.defineProperty(e.prototype,"viewMatrix",{get:function(){return n.DimMatrix.createLookAtViewMatrix(this.position,this.at,this.up)},enumerable:!0,configurable:!0}),e.prototype.init=function(e,t){this.uViewMatrixLocation=e.getUniformLocation(t,"u_ViewMatrix")},e.prototype.render=function(e){if(!this.uViewMatrixLocation)throw"GL uniform u_ViewMatrix location required.";e.uniformMatrix4fv(this.uViewMatrixLocation,!1,i.toDataArray(this.viewMatrix))},e}();t.DimEye=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(14),n=function(){function e(){}return e.emerald=function(){var t=new e;return t.ambient=new o.ColorRGB(.0215,.1745,.0215),t.diffuse=new o.ColorRGB(.07568,.61424,.07568),t.specular=new o.ColorRGB(.633,.727811,.633),t.shininess=.6,t},e.jade=function(){var t=new e;return t.ambient=new o.ColorRGB(.135,.2225,.1575),t.diffuse=new o.ColorRGB(.54,.89,.63),t.specular=new o.ColorRGB(.316228,.316228,.316228),t.shininess=.1,t},e.obsidian=function(){var t=new e;return t.ambient=new o.ColorRGB(.05375,.05,.06625),t.diffuse=new o.ColorRGB(.18275,.17,.22525),t.specular=new o.ColorRGB(.332741,.328634,.346435),t.shininess=.3,t},e.pearl=function(){var t=new e;return t.ambient=new o.ColorRGB(.25,.20725,.20725),t.diffuse=new o.ColorRGB(1,.829,.829),t.specular=new o.ColorRGB(.296648,.296648,.296648),t.shininess=.088,t},e.ruby=function(){var t=new e;return t.ambient=new o.ColorRGB(.1745,.01175,.01175),t.diffuse=new o.ColorRGB(.61424,.04136,.04136),t.specular=new o.ColorRGB(.727811,.626959,.626959),t.shininess=.6,t},e.turquoise=function(){var t=new e;return t.ambient=new o.ColorRGB(.1,.18725,.1745),t.diffuse=new o.ColorRGB(.396,.74151,.69102),t.specular=new o.ColorRGB(.297254,.30829,.306678),t.shininess=.1,t},e.brass=function(){var t=new e;return t.ambient=new o.ColorRGB(.329412,.223529,.027451),t.diffuse=new o.ColorRGB(.780392,.568627,.113725),t.specular=new o.ColorRGB(.992157,.941176,.807843),t.shininess=.21794872,t},e.bronze=function(){var t=new e;return t.ambient=new o.ColorRGB(.2125,.1275,.054),t.diffuse=new o.ColorRGB(.714,.4284,.18144),t.specular=new o.ColorRGB(.393548,.271906,.166721),t.shininess=.2,t},e.chrome=function(){var t=new e;return t.ambient=new o.ColorRGB(.25,.25,.25),t.diffuse=new o.ColorRGB(.4,.4,.4),t.specular=new o.ColorRGB(.774597,.774597,.774597),t.shininess=.6,t},e.copper=function(){var t=new e;return t.ambient=new o.ColorRGB(.19125,.0735,.0225),t.diffuse=new o.ColorRGB(.7038,.27048,.0828),t.specular=new o.ColorRGB(.256777,.137622,.086014),t.shininess=.1,t},e.gold=function(){var t=new e;return t.ambient=new o.ColorRGB(.24725,.1995,.0745),t.diffuse=new o.ColorRGB(.75164,.60648,.22648),t.specular=new o.ColorRGB(.628281,.555802,.366065),t.shininess=.4,t},e.silver=function(){var t=new e;return t.ambient=new o.ColorRGB(.19225,.19225,.19225),t.diffuse=new o.ColorRGB(.50754,.50754,.50754),t.specular=new o.ColorRGB(.508273,.508273,.508273),t.shininess=.4,t},e.plasticBlack=function(){var t=new e;return t.ambient=new o.ColorRGB(0,0,0),t.diffuse=new o.ColorRGB(.01,.01,.01),t.specular=new o.ColorRGB(.5,.5,.5),t.shininess=.25,t},e.plasticCyan=function(){var t=new e;return t.ambient=new o.ColorRGB(0,.1,.06),t.diffuse=new o.ColorRGB(0,.50980392,.50980392),t.specular=new o.ColorRGB(.50196078,.50196078,.50196078),t.shininess=.25,t},e.plasticGreen=function(){var t=new e;return t.ambient=new o.ColorRGB(0,0,0),t.diffuse=new o.ColorRGB(.1,.35,.1),t.specular=new o.ColorRGB(.45,.55,.45),t.shininess=.25,t},e.plasticRed=function(){var t=new e;return t.ambient=new o.ColorRGB(0,0,0),t.diffuse=new o.ColorRGB(.5,0,0),t.specular=new o.ColorRGB(.7,.6,.6),t.shininess=.25,t},e}();t.Material=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){void 0===e&&(e=30),void 0===t&&(t="Arial"),this.size=e,this.family=t,this.style="normal"}return e.prototype.toString=function(){var e=this.family,t=this.size;return this.style+" "+t+"px "+e},e}();t.Font=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(13),n=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.x=e,this.y=t,this.z=r}return e.getRandom=function(t){var r=o.randomRange(t.xMin,t.xMax),n=o.randomRange(t.yMin,t.yMax),i=0;return t.hasRangeZ()&&(i=o.randomRange(t.zMin,t.zMax)),new e(r,n,i)},e.add=function(t,r){return new e(t.x+r.x,t.y+r.y,t.z+r.z)},e.subtract=function(t,r){return new e(t.x-r.x,t.y-r.y,t.z-r.z)},e.multiply=function(t,r){return new e(t.x*r,t.y*r,t.z*r)},e.divide=function(t,r){return new e(t.x/r,t.y/r,t.z/r)},e.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},e.cross=function(t,r){return new e(t.y*r.z-t.z*r.y,t.z*r.x-t.x*r.z,t.x*r.y-t.y*r.x)},e.dot=function(e,t){var r=e.x*t.x;return r+=e.y*t.y,r+=e.z*t.z},Object.defineProperty(e.prototype,"magnitude",{get:function(){return e.magnitude(this)},set:function(e){this.normalize(),this.multiply(e)},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.x=this.x+e.x,this.y=this.y+e.y,this.z=this.z+e.z},e.prototype.subtract=function(e){this.x=this.x-e.x,this.y=this.y-e.y,this.z=this.z-e.z},e.prototype.multiply=function(e){this.x=this.x*e,this.y=this.y*e,this.z=this.z*e},e.prototype.divide=function(e){this.x=this.x/e,this.y=this.y/e,this.z=this.z/e},e.prototype.normalize=function(){var e=this.magnitude;e>0&&this.divide(e)},e.prototype.negate=function(){this.x=-this.x,this.y=-this.y,this.y=-this.y},e.prototype.setXY=function(e,t){var r=o.degrees2radians(e);this.setXYRadians(r,t)},e.prototype.setXYRadians=function(e,t){this.x=t*Math.sin(e),this.y=t*Math.cos(e)},e.prototype.getAngleXY=function(){return o.radians2degrees(this.getAngleXYRadians())},e.prototype.getAngleXYRadians=function(){return Math.atan2(this.y,this.x)},e.prototype.clone=function(){return new e(this.x,this.y,this.z)},e.prototype.toString=function(){return"Vector ("+this.x+", "+this.y+", "+this.z+")"},e.prototype.toArray=function(){return[this.x,this.y,this.z]},e}();t.Vector=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.identity=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},e}();t.Matrix=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,r,o,n,i){this.xMin=e,this.xMax=t,this.yMin=r,this.yMax=o,this.zMin=n,this.zMax=i}return e.prototype.isContained=function(e){var t=e.x>this.xMin&&e.x<this.xMax&&e.y>this.yMin&&e.y<this.yMax;return this.hasRangeZ()&&(t=t&&e.z>this.zMin&&e.z<this.zMax),t},Object.defineProperty(e.prototype,"width",{get:function(){return this.xMax-this.xMin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.yMax-this.yMin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depth",{get:function(){return this.zMax-this.zMin},enumerable:!0,configurable:!0}),e.prototype.hasRangeZ=function(){return void 0!==this.zMin&&void 0!==this.zMax},e}();t.Container=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3);t.ColorHSL=o.ColorHSL,t.ColorRGB=o.ColorRGB,t.colorFactoryRGB=o.colorFactoryRGB,t.createNamedPaletteGeneratorRGB=o.createNamedPaletteGeneratorRGB,t.createPaletteGenerator=o.createPaletteGenerator,t.createPaletteGeneratorBright=o.createPaletteGeneratorBright,t.createPaletteGeneratorCombo=o.createPaletteGeneratorCombo,t.createPaletteGeneratorCool=o.createPaletteGeneratorCool,t.createPaletteGeneratorGreyscale=o.createPaletteGeneratorGreyscale,t.createPaletteGeneratorMonochromaticSaturated=o.createPaletteGeneratorMonochromaticSaturated,t.createPaletteGeneratorMonochromaticLightness=o.createPaletteGeneratorMonochromaticLightness,t.createPaletteGeneratorVivid=o.createPaletteGeneratorVivid,t.createPaletteGeneratorWarm=o.createPaletteGeneratorWarm,t.createProgram=o.createProgram,t.createProgramByShaderElements=o.createProgramByShaderElements,t.DimEye=o.DimEye,t.DimLight=o.DimLight,t.DimOrthographicProjection=o.DimOrthographicProjection,t.DimPerspectiveProjection=o.DimPerspectiveProjection,t.DimScene=o.DimScene,t.DimCircleModelBuilder=o.DimCircleModelBuilder,t.DimConeModelBuilder=o.DimConeModelBuilder,t.DimCubeModelBuilder=o.DimCubeModelBuilder,t.DimCylinderModelBuilder=o.DimCylinderModelBuilder,t.DimObjModelLoader=o.DimObjModelLoader,t.DimRectangleModelBuilder=o.DimRectangleModelBuilder,t.DimSphereModelBuilder=o.DimSphereModelBuilder,t.DimTriangleModelBuilder=o.DimTriangleModelBuilder,t.DimMatrix=o.DimMatrix,t.getWebGLRenderingContext=o.getWebGLRenderingContext,t.lerpColorHSL=o.lerpColorHSL,t.lerpColorRGB=o.lerpColorRGB,t.Material=o.Material,t.RasterCircle=o.RasterCircle,t.RasterImage=o.RasterImage,t.RasterRectangle=o.RasterRectangle,t.RasterText=o.RasterText,t.RasterTriangle=o.RasterTriangle;var n=r(0);t.Container=n.Container,t.degrees2radians=n.degrees2radians,t.createConstrainer=n.createConstrainer,t.createDomainMapper=n.createDomainMapper,t.createHarmonicGenerator=n.createHarmonicGenerator,t.createIntegerRandomRangeGenerator=n.createIntegerRandomRangeGenerator,t.createIntegerSeededRandomRangeGenerator=n.createIntegerSeededRandomRangeGenerator,t.createRandomRangeGenerator=n.createRandomRangeGenerator,t.createSeededRandomRangeGenerator=n.createSeededRandomRangeGenerator,t.createSeededRandom=n.createSeededRandom,t.getDistance=n.getDistance,t.integerRandomRange=n.integerRandomRange,t.mapDomainRange=n.mapDomainRange,t.normalDistribution=n.normalDistribution,t.normalGaussianGenerator=n.normalGaussianGenerator,t.radians2degrees=n.radians2degrees,t.randomRange=n.randomRange,t.Matrix=n.Matrix,t.Vector=n.Vector;var i=r(32);t.NatureActor=i.NatureActor,t.NatureClock=i.NatureClock,t.NatureContainer=i.NatureContainer,t.NatureMover=i.NatureMover,t.NatureOscillator=i.NatureOscillator,t.NatureParticle=i.NatureParticle,t.NatureParticleSystemConfetti=i.NatureParticleSystemConfetti,t.NaturePendulum=i.NaturePendulum,t.NatureRepeller=i.NatureRepeller,t.NatureSpring=i.NatureSpring,t.NatureWalker=i.NatureWalker,t.NatureWave=i.NatureWave,t.NatureDimActor=i.NatureDimActor,t.NatureDimScene=i.NatureDimScene;var a=r(17);t.mouseElementLocation=a.mouseElementLocation}])});